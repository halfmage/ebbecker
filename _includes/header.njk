<div x-data="{ atTop : true }">
  <header
    class="text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 border-b border-gray-100 dark:border-gray-800 fixed top-0 left-0 right-0 transform z-50 transition-all"
    :class="{'shadow-lg dark:border-gray-900' : !atTop}"
    @scroll.window="atTop = ( window.pageYOffset > 0 ) ? false : true"
  >
    <div
      class="container mx-auto relative flex justify-between items-center p-4"
      x-data="{ menuOpen: false }"
    >
      <a
        class="font-medium items-center text-primary-600"
        href="/"
        title="Zurück zur Startseite"
      >
        <img
          src="/images/logo-dark.svg"
          alt="Ute Becker Ernährungsberatung Logo"
          class="inline-block dark:hidden"
          width="170px"
          height="48px"
        />
        <img
          src="/images/logo-light.svg"
          alt="Ute Becker Ernährungsberatung Logo"
          class="hidden dark:inline-block"
          width="170px"
          height="48px"
        />
      </a>
      <!-- Mobile menu trigger start -->
      <div
        class="md:hidden cursor-pointer p-2 focus:text-primary-500 focus:outline-none"
        @click="menuOpen = !menuOpen"
        tabindex="0"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          class="w-8 h-8 text-gray-800 dark:text-gray-100"
        >
          <path
            fill="currentColor"
            d="M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"
          />
        </svg>
      </div>
      <!-- Mobile menu trigger end -->

      <nav class="hidden md:flex">
        <div class="relative flex flex-row" x-data="{ isOpen: false }">
          <span
            class="cursor-pointer inline-flex items-center justify-center p-2 px-4 hover:bg-gray-100 focus:bg-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-800 focus:outline-none rounded-full"
            @click="isOpen = !isOpen"
            tabindex="0"
          >
            Leistungen
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              class="w-6 h-6"
            >
              <path fill="#4D7D0F" d="M7 10l5 5 5-5H7z" />
            </svg>
          </span>
          <div
            x-show.transition="isOpen"
            @click.away="isOpen = false"
            class="w-full md:absolute bg-white dark:bg-gray-800 shadow rounded-lg md:mt-12 md:z-20 md:left-0 md:w-max overflow-hidden"
          >
            <a
              class="hover:text-beratung p-3 flex items-center border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900"
              href="/beratung"
            >
              <div
                class="bg-beratung-light dark:bg-beratung inline-flex justify-center items-center p-2 rounded-full mr-4"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 40 40"
                  class="text-beratung dark:text-white w-6 h-6 inline-block"
                >
                  <path
                    fill="currentColor"
                    d="M33.3 16.7c3.4 5-5 20-8.3 20-3.3 0-3.3-1.7-5-1.7-1.7 0-1.7 1.7-5 1.7s-11.7-15-8.3-20c3.3-5 8.3-5 11.6-3.4v-5c-9.3 5.1-11.5-2-11.5-2s4.5-6 11.5 2V5h3.4v8.3a8.8 8.8 0 0111.6 3.4z"
                  />
                </svg>
              </div>
              Ernährungsberatung</a
            >
            <a
              class="hover:text-therapie p-3 flex items-center border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900"
              href="/therapie"
            >
              <div
                class="bg-therapie-light dark:bg-therapie inline-flex justify-center items-center p-2 rounded-full mr-4"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 40 40"
                  class="text-therapie dark:text-white w-6 h-6 inline-block"
                >
                  <path
                    fill="currentColor"
                    d="M18.3 3.3A13.3 13.3 0 0131.6 15l3.7 6c.3.3.2 1-.4 1.2l-3.2 1.3v5a3.3 3.3 0 01-3.4 3.3H25v5H10v-6.2c0-2-.7-3.8-2-5.5A13.3 13.3 0 0118.2 3.3zm0 8.4a1.7 1.7 0 00-1.6 1.6V15H15a1.7 1.7 0 000 3.3h1.7V20a1.7 1.7 0 003.3 0v-1.7h1.7a1.7 1.7 0 000-3.3H20v-1.7a1.7 1.7 0 00-1.7-1.6z"
                  />
                </svg>
              </div>
              Ernährungstherapie</a
            >
            <a
              class="hover:text-bia p-3 flex items-center border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900"
              href="/bioelektrische-impedanzanalyse"
            >
              <div
                class="bg-bia-light dark:bg-bia inline-flex justify-center items-center p-2 rounded-full mr-4"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 40 40"
                  class="text-bia dark:text-white w-6 h-6 inline-block"
                >
                  <path
                    fill="currentColor"
                    fill-rule="evenodd"
                    d="M10.6 10.6a13.2 13.2 0 00-4 9.4H3.4a16.6 16.6 0 0123-15.5 4.2 4.2 0 017.1 3 4.2 4.2 0 01-8.4.1 13.5 13.5 0 00-14.4 3zm18.8 18.8a13.2 13.2 0 004-9.4h3.3a16.7 16.7 0 01-23 15.5 4.2 4.2 0 01-7.1-3 4.2 4.2 0 018.4-.1 13.5 13.5 0 0014.4-3zm-17-9.4a7.6 7.6 0 1115.2 0 7.6 7.6 0 01-15.2 0z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              Bioelektrische Impedanzanalyse</a
            >
            <a
              class="hover:text-bgf p-3 flex items-center border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900"
              href="/betriebliche-gesundheitsfoerderung"
            >
              <div
                class="bg-bgf-light dark:bg-bgf inline-flex justify-center items-center p-2 rounded-full mr-4"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 40 40"
                  class="text-bgf dark:text-white w-6 h-6 inline-block"
                >
                  <defs />
                  <path
                    fill="currentColor"
                    d="M15 31.7h5V21.6l-6.7-5.8-6.6 5.8v10h5V25H15v6.7zM35 35H5a1.7 1.7 0 01-1.7-1.7V20.8a1.7 1.7 0 01.6-1.2l6.1-5.4V6.7A1.7 1.7 0 0111.7 5H35a1.7 1.7 0 011.7 1.7v26.6A1.7 1.7 0 0135 35zm-8.3-16.7v3.4H30v-3.4h-3.3zm0 6.7v3.3H30V25h-3.3zm0-13.3V15H30v-3.3h-3.3zm-6.7 0V15h3.3v-3.3H20z"
                  />
                </svg>
              </div>
              Betriebliche Gesundheitsförderung
            </a>
          </div>
        </div>
        <a
          class="md:ml-1 p-2 px-4 hover:bg-gray-100 focus:bg-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-800 focus:outline-none rounded-full"
          href="/profil"
          >Profil</a
        >
        <a
          class="md:ml-1 p-2 px-4 hover:bg-gray-100 focus:bg-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-800 focus:outline-none rounded-full"
          href="/covid-19"
          >COVID-19</a
        >
        <a
          class="md:ml-1 p-2 px-4 border border-primary-700 hover:bg-primary-700 hover:text-white focus:bg-primary-700 focus:text-white focus:outline-none rounded-full"
          href="/kontakt"
          >Termine & Kontakt</a
        >
        <div
          id="switchTheme"
          class="md:ml-1 p-2 cursor-pointer hover:bg-gray-100 focus:bg-gray-200 dark:hover:bg-gray-800 dark:focus:bg-gray-800 focus:outline-none rounded-full inline-flex items-center justify-center"
        >
          <svg
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="text-gray-700 dark:text-gray-200 w-6 h-6 hidden dark:block"
          >
            <path
              d="M12 3v1m0 16v1m8-9h1M4 12H3m2-7l1 1m12 0l1-1m0 14l-1-1M6 18l-1 1m11-7a4 4 0 11-8 0 4 4 0 018 0z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            /></svg
          ><svg
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="text-gray-700 dark:text-gray-200 w-6 h-6 dark:hidden"
          >
            <path
              d="M9.353 3C5.849 4.408 3 7.463 3 11.47A9.53 9.53 0 0012.53 21c4.007 0 7.062-2.849 8.47-6.353C8.17 17.065 8.14 8.14 9.353 3z"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>
      </nav>

      {% include "mobile-menu.njk" %}
    </div>
  </header>
</div>
